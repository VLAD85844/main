{% load menu_tags %}

<ul class="tree-menu">
    {% for node in menu_tree %}
        <li class="tree-menu-item
                   {% if node.is_active %}active{% endif %}
                   {% if node.is_expanded %}expanded{% else %}collapsed{% endif %}
                   {% if node.children %}has-children{% endif %}">

            <a href="{{ node.item.get_url }}"
               class="{% if node.is_active %}active{% endif %}">
                {{ node.item.title }}
                {% if node.children %}
                    <span class="expand-icon">{% if node.is_expanded %}âˆ’{% else %}+{% endif %}</span>
                {% endif %}
            </a>

            {% if node.children and node.is_expanded %}
                <ul class="tree-menu-children">
                    {% with menu_tree=node.children %}
                        {% include "tree_menu/menu.html" %}
                    {% endwith %}
                </ul>
            {% endif %}
        </li>
    {% endfor %}
</ul>